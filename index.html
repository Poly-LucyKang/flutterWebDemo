<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--  <base href="/${flutterWebDemo}/">-->
<!--  <meta charset="UTF-8">-->
<!--  <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--  <title>Flutter Web App</title>-->
<!--  &lt;!&ndash; Flutter 애플리케이션을 스타일링하거나 추가 메타 태그를 여기에 삽입할 수 있습니다. &ndash;&gt;-->
<!--  <link rel="icon" type="image/png" href="assets/favicon.png">-->
<!--  <script>-->
<!--    // Flutter Web에서 로드할 때, 필요한 설정을 할 수 있는 스크립트-->
<!--    if (navigator.serviceWorker)-->
<!--      navigator.serviceWorker.register('flutter_service_worker.js?v=4073948573');-->
<!--    }-->
<!--  </script>-->
<!--</head>-->
<!--<body>-->
<!--&lt;!&ndash; Flutter 애플리케이션이 로드될 위치를 지정 &ndash;&gt;-->
<!--<script src="main.dart.js" type="application/javascript"></script>-->
<!--</body>-->
<!--</html>-->
<!-- -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flutter Web App</title>
    <meta name="description" content="A new Flutter project.">
    <!-- Flutter Web SDK -->
    <script src="flutter_web_sdk.js"></script>
    <base href="/flutterWebDemo/">
    <!-- This script adds the flutter initialization JS code -->
    <script src="flutter.js" defer></script>
    <!-- Add it HERE ! -->
    <script src="app.js" defer></script>
    <script src="main.dart.js" defer></script>
    <script type="text/javascript">
        // 현재 플랫폼을 확인하는 함수
    function getPlatform() {
        if (navigator.userAgent.indexOf('Android') !== -1) {
        return 'android';
      } else if (navigator.userAgent.indexOf('iPhone') !== -1 || navigator.userAgent.indexOf('iPad') !== -1) {
        return 'ios';
      } else {
        return 'web'; // Flutter Web에서 실행될 때는 'web'으로 인식
      }
    }

    function sendFruitName(fruitName) {
      const platform = getPlatform();

      if (platform === 'android') {
        // Android에서만 사용할 코드 (postMessage 방식)
        if (window.Android) {
          window.Android.sendFruitName(fruitName);
            console.log("[KHJ] Message sent to Android: " + fruitName);
        }
      } else if (platform === 'ios') {
        // iOS에서만 사용할 코드 (window.webkit.messageHandlers)
        if (window.webkit && window.webkit.messageHandlers.nativeBridge) {
          window.webkit.messageHandlers.nativeBridge.postMessage(fruitName);
          console.log("[KHJ] Message sent to iOS: " + fruitName);
        }
      } else {
        // Flutter Web에서는 콘솔에 출력하거나 다른 처리를 할 수 있음
        console.log('Flutter Web: ' + fruitName);
      }
    }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
          font-family: 'Noto Sans KR', sans-serif;
          font-display: swap;
        }
    </style>
</head>
<body>
<!-- This div is where your Flutter app will be rendered -->
<noscript>
    <strong>We're sorry but this app doesn't work properly without JavaScript enabled. Please enable
        it to continue.</strong>
</noscript>

<!-- Flutter app is mounted to this div -->
<div id="flutter_container"></div>
</body>
</html>